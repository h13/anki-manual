<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Text Files - Anki Manual</title>


        <!-- Custom HTML head -->

        <meta name="description" content="Anki&#x27;s user manual. Anki is a flashcard program that makes learning easier.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../css/misc.css">
        <link rel="stylesheet" href="../css/mdbook-admonish.css">

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Anki Manual</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/ankitects/anki-manual/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="text-files"><a class="header" href="#text-files">Text Files</a></h1>
<ul>
<li><a href="#spreadsheets-and-utf-8">Spreadsheets and UTF-8</a></li>
<li><a href="#html">HTML</a></li>
<li><a href="#importing-media">Importing Media</a></li>
<li><a href="#bulk-media">Bulk Media</a></li>
<li><a href="#duplicates-and-updating">Duplicates and Updating</a></li>
<li><a href="#file-headers">File Headers</a>
<ul>
<li><a href="#notetype-column">Notetype Column</a></li>
<li><a href="#deck-column">Deck Column</a></li>
<li><a href="#guid-column">GUID Column</a></li>
</ul>
</li>
</ul>
<p>Any <strong>plain text</strong> file that contains fields separated by commas,
semicolons or tabs can be imported into Anki, provided some conditions
are met.</p>
<ul>
<li>
<p>The files must be plain text (myfile.txt). Other formats like
myfile.xls, myfile.rtf, myfile.doc must be saved as a plain text
file first.</p>
</li>
<li>
<p>The files must be in UTF-8 format (see below).</p>
</li>
<li>
<p>Anki determines the number of fields in the file by looking at the first
(non-commented) line. If some of the later records in the file contain fewer
fields, Anki will treat the missing fields as if they were blank. If some of your
records contain extra fields, the extra content will not be imported.</p>
</li>
<li>
<p>Anki tries to guess which field separator (commas, tabs, etc.) your file uses.
If it guesses wrongly, you can change it in the import options window and preview
the results. Or you can add <a href="#file-headers">file headers</a> to force a specific field separator.</p>
</li>
</ul>
<p>Fields in your text file can be mapped to any field in your notes,
including the tags field. You can choose which field in the text file
corresponds to which field in the note when you import.</p>
<p>When you import a text file, you can choose what deck to put the cards
in. Keep in mind that if you have the deck override option set for one
or more of your templates, the cards will go to that deck rather than
the one you’ve selected.</p>
<p>This is an example of a valid file with three fields:</p>
<pre><code>apple;banana;grape
first field;second field;third field
</code></pre>
<p>There are two ways to include newlines or the field separator in fields.</p>
<p><strong>Escape the characters by placing the contents of the field in
quotation marks</strong>:</p>
<pre><code>hello;"this is
a two line answer"
two;this is a one line field
"this includes a ; (semicolon)";another field
</code></pre>
<p>Because quotes are used to mark where a field begins and ends, if you
wish to include them inside your field, you need to replace a single
doublequote with two doublequotes to “escape” them from the regular
handling, like so:</p>
<pre><code>field one;"field two with ""escaped quotes"" inside it"
</code></pre>
<p>When you use a spreadsheet program like Libreoffice to create the CSV
file for you, it will automatically take care of escaping double quotes.</p>
<p><strong>Use HTML new lines</strong>:</p>
<pre><code>hello; this is&lt;br&gt;a two line answer
two; this is a one line one
</code></pre>
<p>You need to turn on the <strong>Allow HTML in fields</strong> in the import
dialog for HTML newlines to work.</p>
<p>Escaped multi-lines will not work correctly if you are using cloze
deletions that span multiple lines. In this case, please use HTML
newlines instead.</p>
<p>You can also include tags in another field and select it as a tags field
in the import dialog:</p>
<pre><code>first field;second field;tags
</code></pre>
<p>This is an example of a valid file where the first line is ignored (#):</p>
<pre><code># this is a comment and is ignored
foo bar;bar baz;baz quux
field1;field2;field3
</code></pre>
<h2 id="spreadsheets-and-utf-8"><a class="header" href="#spreadsheets-and-utf-8">Spreadsheets and UTF-8</a></h2>
<p>If you have non-Latin characters in your file (such as accents, Japanese
and so on), Anki expects files to be saved in a “UTF-8 encoding”. The
easiest way to do this is to use the free LibreOffice spreadsheet
program instead of Excel to edit your file, as it supports UTF-8 easily,
and also exports multi-line content properly, unlike Excel. If you wish
to keep using Excel, please see <a href="https://docs.google.com/document/d/12YE_FS6A9ANLTESJNtPP116ti4nNmCBghyoJBRtno_k/edit?usp=sharing">this doc</a>
for more information.</p>
<p>To save your spreadsheet to a file Anki can read with LibreOffice, go to
<strong>File &gt; Save As</strong>, and then select CSV for the type of file. After
accepting the default options, LibreOffice will save the file and you
can then import the saved file into Anki.</p>
<h2 id="html"><a class="header" href="#html">HTML</a></h2>
<p>Anki can treat text imported from text files as HTML (the language used
for web pages). This means that text with bold, italics and other
formatting can be exported to a text file and imported again. If you
want to include HTML formatting, you can check the “allow HTML in
fields” checkbox when importing. You may wish to turn this off if you’re
trying to import cards whose content contains angle brackets or other
HTML syntax.</p>
<p>If you wish to use HTML for formatting your file but also wish to
include angle brackets or ampersands, you may use the following replacements:</p>
<div class="table-wrapper"><table><thead><tr><th>Character</th><th>Replacement</th></tr></thead><tbody>
<tr><td>&lt;</td><td><code>&amp;lt;</code></td></tr>
<tr><td>&gt;</td><td><code>&amp;gt;</code></td></tr>
<tr><td>&amp;</td><td><code>&amp;amp;</code></td></tr>
</tbody></table>
</div>
<h2 id="importing-media"><a class="header" href="#importing-media">Importing Media</a></h2>
<p>If you want to include audio and pictures from a text file import, copy
the files into the <a href="../files.html">collection.media folder</a>. <strong>Do not put
subdirectories in the media folder, or some features will not work.</strong></p>
<p>After you’ve copied the files, change one of the fields in your text
file as follows.</p>
<pre><code>&lt;img src="myimage.jpg"&gt;
</code></pre>
<p>or</p>
<pre><code>[sound:myaudio.mp3]
</code></pre>
<p>Alternatively, you can use the <a href="../browsing.html">find and replace</a> feature
in the browse screen to update all the fields at once. If each field
contains text like “myaudio”, and you wish to make it play a sound,
you’d search for (.*) and replace it with “[sound:\1.mp3]”, with the
<strong>regular expressions</strong> option enabled.</p>
<p>When importing a text file with these references, you must make sure to
enable the “Allow HTML” option.</p>
<p>You might be tempted to do this in a template, like:</p>
<pre><code>&lt;img src="{{field name}}"&gt;
</code></pre>
<p>Anki doesn’t support this for two reasons: searching for used media is
expensive, as each card has to be rendered, and such functionality isn’t
obvious to shared deck users. Please use the find &amp; replace technique
instead.</p>
<h2 id="bulk-media"><a class="header" href="#bulk-media">Bulk Media</a></h2>
<p>Another option for importing large amounts of media at once is to use
the <a href="https://ankiweb.net/shared/info/129299120">media import add-on</a>.
This add-on will automatically create notes for all files in a folder
you select, with the filenames on the front (minus the file extension,
so if you have a file named apple.jpg, the front would say “apple”) and
the images or audio on the back. If you would like a different
arrangement of media and filenames, you can <a href="../browsing.html">change the note type</a> of the created cards afterwards.</p>
<h2 id="duplicates-and-updating"><a class="header" href="#duplicates-and-updating">Duplicates and Updating</a></h2>
<p>When importing text files, Anki uses the first field to determine if a
note is unique. By default, if the file you are importing has a first
field that matches one of the existing notes in your collection and that
existing note is the same type as the type you’re importing, the
existing note’s other fields will be updated based on content of the
imported file. A drop-down box in the import screen allows you to change
this behaviour, to either ignore duplicates completely, or import them
as new notes instead of updating existing ones.</p>
<p>The <strong>match scope</strong> setting controls how duplicates are identified. When
<strong>note type</strong> is selected, Anki will identify a duplicate if another note
with the same note type has the same first field. When set to <strong>note type and deck</strong>,
a duplicate will only be flagged if the existing note also happens to be
in the deck you are importing into.</p>
<p>If you have updating turned on and older versions of the notes you’re
importing are already in your collection, they will be updated in place
(in their current decks) rather than being moved to the deck you have
set in the import dialog. If notes are updated in place, the existing
scheduling information on all their cards will be preserved.</p>
<p>For info on how duplicates are handled in .apkg files, please see the
<a href="../exporting.html#packaged-decks">Deck Packages</a> section.</p>
<h2 id="file-headers"><a class="header" href="#file-headers">File Headers</a></h2>
<p>Anki 2.1.54+ supports certain headers that can be included in the text file to
make importing more powerful or convenient. They consist of <code>#key:value</code> pairs
and must be listed in separate lines at the top of the file.</p>
<div class="table-wrapper"><table><thead><tr><th>Key</th><th>Allowed Values</th><th>Behaviour</th></tr></thead><tbody>
<tr><td><code>separator</code></td><td><code>Comma</code>, <code>Semicolon</code>, <code>Tab</code>, <code>Space</code>, <code>Pipe</code>, <code>Colon</code>, or the according literal characters</td><td>Determines the field separator.</td></tr>
<tr><td><code>html</code></td><td><code>true</code>, <code>false</code></td><td>Determines whether the file is treated as HTML.</td></tr>
<tr><td><code>tags</code></td><td>List of tags, separated by spaces</td><td>Adds the listed tags to every imported note.</td></tr>
<tr><td><code>columns</code></td><td>List of names, separated by the previously set separator</td><td>Determines the number of columns and shows their given names when importing.</td></tr>
<tr><td><code>notetype</code></td><td>Note type name or id</td><td>Presets the note type, if it exists.</td></tr>
<tr><td><code>deck</code></td><td>Deck name or id</td><td>Presets the deck, if it exists.</td></tr>
<tr><td><code>notetype column</code></td><td><code>1</code>, <code>2</code>, <code>3</code>, …</td><td>Determines which column contains the note type name or id of each note, see <a href="#notetype-column">Notetype Column</a>.</td></tr>
<tr><td><code>deck column</code></td><td><code>1</code>, <code>2</code>, <code>3</code>, …</td><td>Determines which column contains the deck name or id of each note, see <a href="#deck-column">Deck Column</a>.</td></tr>
<tr><td><code>tags column</code></td><td><code>1</code>, <code>2</code>, <code>3</code>, …</td><td>Determines which column contains the tags of each note.</td></tr>
<tr><td><code>guid column</code></td><td><code>1</code>, <code>2</code>, <code>3</code>, …</td><td>Determines which column contains the GUID of each note, see <a href="#guid-column">GUID Column</a>.</td></tr>
</tbody></table>
</div>
<p>Some headers have further implications.</p>
<h3 id="notetype-column"><a class="header" href="#notetype-column">Notetype Column</a></h3>
<p>Usually, all notes from a file will be mapped to a single note type. That changes, if there is a column with note type names or ids.</p>
<p>This allows you to
import notes with different note types, and their fields will be mapped implicitly:
The first regular column is used for the first field of any note regardless of
its note type, the second regular column for the second field, and so on.
A <em>regular column</em> here being a column that does not contain special information
like decks, tags, note types or GUIDs.</p>
<h3 id="deck-column"><a class="header" href="#deck-column">Deck Column</a></h3>
<p>Usually, any new cards created as a result of importing a text file will be placed
in a single deck of your choice. If the file contains a deck column, however, new
cards of a note will be placed in its specified deck instead. If the deck does not
exist, a deck with the given name will be created.</p>
<h3 id="guid-column"><a class="header" href="#guid-column">GUID Column</a></h3>
<p>GUID stands for <em>Globally Unique Identifier</em>. When you create notes in Anki, Anki
assigns each note a unique ID, which can be used for duplicate checking. If you
export your notes with the GUID included, you can make changes to the notes, and
as long as you do not modify the GUID field, you’ll be able to import the notes back
in to update the existing notes.</p>
<p>Please note that the GUID is intended to be created by Anki. If you are creating
your own IDs, such as <code>MYNOTE0001</code>, then it’s recommended that you place the IDs
in the first field, instead of assigning them to Anki’s internal GUID. When importing,
Anki is able to use either the first field or the GUID for duplicate checking, so you do not
need to make IDs a GUID in order to be able to update your notes.</p>
<p>One other thing to note is that the duplicate option will not work for rows that have a
non-empty GUID. If a GUID is provided, and already exists in the collection, a duplicate will
not be created.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../importing/intro.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../importing/packaged-decks.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../importing/intro.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../importing/packaged-decks.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
